(this["webpackJsonpdrone-interface"]=this["webpackJsonpdrone-interface"]||[]).push([[0],{31:function(e,t,a){e.exports=a(59)},59:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(29),c=a.n(r),i=(a(36),a(13)),s=a(1),o=a(9),u=a(10),m=a(12),d=a(11),h=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return l.a.createElement("nav",{className:"navbar navbar-dark bg-dark navbar-expand-lg"},l.a.createElement(i.b,{to:"/",className:"navbar-brand"},"Drone Interface"),l.a.createElement("div",{className:"collpase navbar-collapse"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"navbar-item"},l.a.createElement(i.b,{to:"/",className:"nav-link"},"Existing Users")),l.a.createElement("li",{className:"navbar-item"},l.a.createElement(i.b,{to:"/images",className:"nav-link"},"Images")),l.a.createElement("li",{className:"navbar-item"},l.a.createElement(i.b,{to:"/videos",className:"nav-link"},"Videos")),l.a.createElement("li",{className:"navbar-item"},l.a.createElement(i.b,{to:"/user",className:"nav-link"},"Create New User")))))}}]),a}(n.Component),f=a(8),E=a(4),v=a.n(E),b=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onChangeUsername=n.onChangeUsername.bind(Object(f.a)(n)),n.onSubmit=n.onSubmit.bind(Object(f.a)(n)),n.state={username:""},n}return Object(u.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={username:this.state.username};console.log(t),v.a.post("http://localhost:5000/users/add",t).then((function(e){return console.log(e.data)})),this.setState({username:""})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h3",null,"Create New User"),l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Username: "),l.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.username,onChange:this.onChangeUsername})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"submit",value:"Create User",className:"btn btn-primary"}))))}}]),a}(n.Component),p=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={files:[],file:""},n.loadFiles=n.loadFiles.bind(Object(f.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.loadFiles()}},{key:"loadFiles",value:function(){var e=this;v.a.get("http://localhost:5000/images/files/").then((function(t){e.setState({files:t.data.files})})).catch((function(e){return alert(e)}))}},{key:"fileChanged",value:function(e){var t=e.target.files[0];this.setState({file:t})}},{key:"deleteFile",value:function(e){var t=this;e.preventDefault();var a=e.target.id;v.a.get("http://localhost:5000/images/files/"+a).then((function(e){e.data.success&&(alert("File with ID: "+a+" has been deleted"),t.setState({files:t.state.files.filter((function(e){return e._id!==a}))}))})).catch((function(e){return alert(e)}))}},{key:"uploadFile",value:function(e){e.preventDefault();var t=new FormData;t.append("file",this.state.file),v.a.post("http://localhost:5000/images/files",t).then((function(e){return console.log("Successfully Uploaded!")}))}},{key:"render",value:function(){var e=this,t=this.state.files;return l.a.createElement("div",null,l.a.createElement("h3",{className:"Upload Files"},"Choose File to Upload"),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("input",{type:"file",onChange:this.fileChanged.bind(this)}),l.a.createElement("button",{onClick:this.uploadFile.bind(this)},"Upload"),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("h3",null,"Current Images"),l.a.createElement("table",{className:"table"},l.a.createElement("thead",{className:"thead-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"Image"),l.a.createElement("th",null,"Uploaded"),l.a.createElement("th",null,"Size"),l.a.createElement("th",null))),l.a.createElement("tbody",null,t.map((function(t,a){var n=new Date(t.uploadDate);return l.a.createElement("tr",{key:a},l.a.createElement("td",null,l.a.createElement("img",{src:"http://localhost:5000/images/files/".concat(t.filename),alt:"",height:"180",width:"320"})),l.a.createElement("td",null,"".concat(n.toLocaleDateString()," ").concat(n.toLocaleTimeString())),l.a.createElement("td",null,Math.round(t.length/100)/10+"KB"),l.a.createElement("td",null,l.a.createElement("button",{onClick:e.deleteFile.bind(e),id:t._id},"Remove")))}))))))}}]),a}(n.Component),g=function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,e.user.username),l.a.createElement("td",null,l.a.createElement(i.b,{to:"/edit/"+e.user._id},"edit")," | ",l.a.createElement("a",{href:"#",onClick:function(){e.deleteUser(e.user._id)}},"delete")))},k=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).deleteUser=n.deleteUser.bind(Object(f.a)(n)),n.state={users:[]},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;v.a.get("http://localhost:5000/users/").then((function(t){e.setState({users:t.data})})).catch((function(e){console.log(e)}))}},{key:"deleteUser",value:function(e){v.a.delete("http://localhost:5000/users/"+e).then((function(e){console.log(e.data)})),this.setState({users:this.state.users.filter((function(t){return t._id!==e}))})}},{key:"userList",value:function(){var e=this;return this.state.users.map((function(t){return l.a.createElement(g,{user:t,deleteUser:e.deleteUser,key:t._id})}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h3",null,"Logged Users"),l.a.createElement("table",{className:"table"},l.a.createElement("thead",{className:"thead-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"Username"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,this.userList())))}}]),a}(n.Component),y=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={files:[],file:""},n.loadFiles=n.loadFiles.bind(Object(f.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.loadFiles()}},{key:"loadFiles",value:function(){var e=this;v.a.get("http://localhost:5000/videos/files/").then((function(t){e.setState({files:t.data.files})})).catch((function(e){return alert(e)}))}},{key:"fileChanged",value:function(e){var t=e.target.files[0];this.setState({file:t})}},{key:"deleteFile",value:function(e){var t=this;e.preventDefault();var a=e.target.id;v.a.get("http://localhost:5000/videos/files/"+a).then((function(e){e.data.success&&(alert("File with ID: "+a+" has been deleted"),t.setState({files:t.state.files.filter((function(e){return e._id!==a}))}))})).catch((function(e){return alert(e)}))}},{key:"uploadFile",value:function(e){e.preventDefault();var t=new FormData;t.append("file",this.state.file),v.a.post("http://localhost:5000/videos/files",t).then((function(e){return console.log("Successfully Uploaded!")}))}},{key:"render",value:function(){var e=this,t=this.state.files;return l.a.createElement("div",null,l.a.createElement("h3",{className:"Upload Files"},"Choose File to Upload"),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("input",{type:"file",onChange:this.fileChanged.bind(this)}),l.a.createElement("button",{onClick:this.uploadFile.bind(this)},"Upload"),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("h3",null,"Current Videos"),l.a.createElement("table",{className:"table"},l.a.createElement("thead",{className:"thead-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"Video"),l.a.createElement("th",null,"Uploaded"),l.a.createElement("th",null,"Size"),l.a.createElement("th",null))),l.a.createElement("tbody",null,t.map((function(t,a){var n=new Date(t.uploadDate);return l.a.createElement("tr",{key:a},l.a.createElement("td",null,l.a.createElement("video",{src:"http://localhost:5000/videos/files/".concat(t.filename),height:"500",width:"600",controls:"true"})),l.a.createElement("td",null,"".concat(n.toLocaleDateString()," ").concat(n.toLocaleTimeString())),l.a.createElement("td",null,Math.round(t.length/100)/10+"KB"),l.a.createElement("td",null,l.a.createElement("button",{onClick:e.deleteFile.bind(e),id:t._id},"Remove")))}))))))}}]),a}(n.Component);var C=function(){return l.a.createElement(i.a,null,l.a.createElement("div",{className:"container"},l.a.createElement(h,null),l.a.createElement("br",null),l.a.createElement(s.a,{path:"/",exact:!0,component:k}),l.a.createElement(s.a,{path:"/images",component:p}),l.a.createElement(s.a,{path:"/videos",component:y}),l.a.createElement(s.a,{path:"/user",component:b})))};c.a.render(l.a.createElement(C,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.69284627.chunk.js.map